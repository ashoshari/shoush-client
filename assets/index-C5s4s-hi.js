import{r as n,j as e,a as J}from"./react-BHfQynsH.js";import{c as U}from"./react-dom-D7AI4CH_.js";import{L as S,c as $,R as B}from"./react-router-dom-B4fmH9TY.js";import{d as F,a as V,b as q,c as _,e as K,f as Y,g as z,C as G,h as M}from"./@mui-BObmwAS2.js";import{c as I,O as H,f as X}from"./react-router-DGtqSh3c.js";import{D as P}from"./react-datepicker-3n6fT9mT.js";import{E as W}from"./jspdf-BO9DrAYJ.js";import{a as Z}from"./jspdf-autotable-BUNA34cR.js";import"./@babel-D1ByG9qN.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-CA71pd9M.js";import"./clsx-B-dksMZM.js";import"./@emotion-DV4DrR78.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-FDnFs_-n.js";import"./date-fns-DtkU1RN2.js";import"./react-onclickoutside-DdNPp3y5.js";import"./@floating-ui-CnmrosMm.js";import"./fflate-Cf-_J6lE.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}})();function Q({state:a,setState:r}){const l="vacationsTabs animate",[i,t]=n.useState(!1),s=()=>{r(!a),t(!i)};return e.jsx("div",{className:"sidebarc",children:e.jsxs("ul",{className:"sidebarNav",children:[e.jsxs(S,{to:"/",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(F,{className:"icon"})," ",e.jsx("p",{children:"Home"})]}),e.jsxs(S,{to:"/employees",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(V,{className:"icon"})," ",e.jsx("p",{children:"Employees"})]}),e.jsx("div",{className:"vacationsTab",style:{cursor:"pointer"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:e.jsxs("div",{className:"vacationTitle",children:[e.jsx(q,{className:"icon"}),e.jsxs("p",{children:["Vacations ",e.jsx("i",{children:i?"↓":"→"})]}),e.jsxs("div",{className:i?l:"vacationsTabs",children:[e.jsx(S,{to:"/request-vacation",className:"requestVacation",onClick:s,children:"Request vacation"}),e.jsx(S,{to:"/vacations",className:"vacationsTabHeadline",onClick:s,children:"Vacations"})]})]})}),e.jsxs(S,{to:"/salaries",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(_,{className:"icon"})," ",e.jsx("p",{children:"Salaries"})]}),e.jsxs(S,{to:"/reports",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(K,{className:"icon"})," ",e.jsx("p",{children:"Reports"})]}),e.jsxs(S,{to:"/careers",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(Y,{className:"icon"})," ",e.jsx("p",{children:"Careers"})]}),e.jsxs(S,{to:"/contact",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(z,{className:"icon"})," ",e.jsx("p",{children:"Contact us"})]}),e.jsxs(S,{to:"/",className:"sidebarNavLinks",onClick:()=>r(!a),children:[e.jsx(F,{className:"icon"})," ",e.jsx("p",{children:"About us"})]})]})})}function ee({state:a,setState:r}){return e.jsx("nav",{className:"mobileNav",onClick:()=>r(!a),children:e.jsxs("div",{className:"navLink",href:"#",children:[e.jsx("div",{style:{backgroundColor:a?"#fff":"#000"}}),e.jsx("div",{style:{backgroundColor:a?"#fff":"#000"}}),e.jsx("div",{style:{backgroundColor:a?"#fff":"#000"}})]})})}const se={user:JSON.parse(localStorage.getItem("user"))||null,employees:[],isLoading:!1,darken:!1},E=J.createContext(se);function ne(){const{darken:a,user:r,dispatch:l}=n.useContext(E),[i,t]=n.useState(!1),s=I(),c=i?"sideBar display":"sideBar",p=d=>{d.preventDefault(),t(!i),r&&l({type:"LOGOUT"}),s("/login")};return e.jsxs("div",{className:"routes",children:[e.jsx(ee,{setState:t,state:i}),e.jsx("div",{className:c,children:e.jsx(Q,{setState:t,state:i})}),e.jsx(S,{to:"/",className:"loginLogout",onClick:p,children:r?e.jsx("p",{children:"Logout"}):e.jsx("p",{children:"Login"})}),e.jsx(H,{}),a?e.jsx("div",{className:"darken"}):null]})}const ae="/shoush-client/assets/globe-CHt7HdzD.jpg";function te(){return e.jsxs("div",{className:"home",children:[e.jsxs("div",{className:"first",children:[e.jsxs("div",{className:"firstLeft",children:[e.jsx("h3",{children:"Necessity and invention"}),e.jsx("p",{children:"Shoush was founded in 1996, driven by the desire to democratize scientific research by expanding its availability, which meant giving scholarly publishers the software that they needed to excel in a new—and often intimidating—digital environment."}),e.jsx("p",{children:"Shoush’s initial development efforts resulted in Literatum, our online publishing and website development platform, first released in 1999. What was a five-person technology startup in Silicon Valley is now an influential global organization with a team of 500 in six offices across the United States, the UK, Jordan, the Czech Republic, Greece, and China."})]}),e.jsx("div",{className:"firstRight",children:e.jsx("img",{src:ae,alt:"globe"})})]}),e.jsxs("div",{className:"second",children:[e.jsxs("div",{className:"secondLeft",children:[e.jsx("h3",{children:"Technology specifically for publishers"}),e.jsx("p",{children:"Over the 25+ years that Literatum has been in continuous development, we’ve gained a deep understanding of what it takes to power a successful online publishing business. Our product development is driven in part by our clients’ requirements for their own businesses. New features are regularly added to meet the design, editorial, and marketing needs of our expanding client base."}),e.jsx("h3",{style:{marginTop:"5rem "},children:"A fast-growing technology company"}),e.jsx("p",{children:"Today Shoush has over 200 clients, including some of the world’s largest publishers; several date back to our first years in business. Literatum is home to 32 million articles in over 15,000 journals, as well as nearly half a million books, in over a dozen languages and on more than 900 publication websites. The platform logs over 5.1 billion user sessions annually. We rival larger Silicon Valley companies in our aggressive pursuit of new technologies. Engineers comprise more than two thirds of our staff, and our ongoing, award-winning R&D team applies machine learning and AI-based technologies that keep our customers at the forefront of online publishing."})]}),e.jsxs("div",{className:"secondRight",children:[e.jsx("h3",{children:"Technology in the service of knowledge"}),e.jsx("p",{children:"Our clients want to promote and distinguish their brands while forging lasting connections with their readers. So we look at publishing through the eyes of readers and authors, because we believe that prioritizing their online experience is the best way to foster a loyal customer base."}),e.jsx("p",{children:"We’re building new tools to make the workflows of practitioners, clinicians, and researchers more convenient and productive—from discovery and reading to collaborating and authoring."}),e.jsx("p",{children:"Our focus today remains much the same as it was more than 25 years ago: providing superior technology and personal service to help publishers grow their online businesses."})]})]})]})}function re(){const a=n.useRef(),r=n.useRef(),l=n.useRef(),[i,t]=n.useState(""),s=I(),{dispatch:c}=n.useContext(E),p=async d=>{if(a.current.value.length<7)t("Username must be at least 7 characters in length");else if(r.current.value.length<7)t("Password must be at least 7 characters in length");else if(r.current.value!==l.current.value)t("passwords do not match");else{const m={username:a.current.value,password:r.current.value};await fetch("https://shoush-api.vercel.app/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),c({type:"LOGIN"});const u=await(await fetch("https://shoush-api.vercel.app/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();c({type:"LOGIN_SUCCESS",payload:u}),s("/")}};return e.jsxs("div",{className:"formContainer",children:[e.jsx("p",{className:"error",children:i}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"",children:"Username"}),e.jsx("input",{type:"text",ref:a,placeholder:"Username",className:"formInput"})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"",children:"Password"}),e.jsx("input",{type:"password",ref:r,placeholder:"Password",className:"formInput"})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"",children:"Confirm password"}),e.jsx("input",{type:"password",ref:l,placeholder:"Confirm Password",className:"formInput"})]}),e.jsx("div",{className:"row",children:e.jsx("button",{type:"button",className:"btn",onClick:p,children:"Sign Up"})}),e.jsx("div",{className:"row",children:e.jsxs("p",{className:"register",children:["Already have an account ? ",e.jsx(S,{to:"/login",children:"Login"})]})})]})]})}function le(){const{dispatch:a,isLoading:r}=n.useContext(E),l=n.useRef(),i=n.useRef(),[t,s]=n.useState(""),c=I(),p=async d=>{if(l.current.value.length<7)s("Username must be at least 7 characters in length");else if(i.current.value.length<7)s("Password must be at least 7 characters");else{const m={username:l.current.value,password:i.current.value};a({type:"LOGIN"});const u=await(await fetch("https://shoush-api.vercel.app/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();a({type:"LOGIN_SUCCESS",payload:u}),u?c("/"):s("Your login credentials don't match an account in our system.")}};return e.jsxs("div",{className:"formContainer",children:[e.jsx("p",{className:"error",children:t}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"",children:"Username"}),e.jsx("input",{type:"text",ref:l,placeholder:"Username",className:"formInput"})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{htmlFor:"",children:"Password"}),e.jsx("input",{type:"password",ref:i,placeholder:"Password",className:"formInput"})]}),e.jsx("div",{className:"row",children:e.jsx("button",{type:"button",className:"btn",disabled:r,onClick:p,children:r?e.jsx(G,{color:"inherit",size:"15px"}):"Log In"})}),e.jsx("div",{className:"row",children:e.jsxs("p",{className:"register",children:["Don't have an account ? ",e.jsx(S,{to:"/signup",children:"Register"})]})})]})]})}function ie(){return e.jsx("form",{children:e.jsx("input",{type:"checkbox",checked:!0})})}function oe(){const[a,r]=n.useState(!0),l=n.useRef(),i=n.useRef(),[t,s]=n.useState(new Date),[c,p]=n.useState(new Date),d=n.useRef(),m=n.useRef(),[v,u]=n.useState({}),[j,x]=n.useState(!1),{employees:h}=n.useContext(E),w=f=>{f.target.value==="Annual"||f.target.value==="Sick"?r(!0):r(!1)},y=async()=>{var g,o,N,C,D,A,O,k;let f={};if((((o=(g=d==null?void 0:d.current)==null?void 0:g.value)==null?void 0:o.length)<1||((C=(N=d==null?void 0:d.current)==null?void 0:N.value)==null?void 0:C.length)>2)&&(f.numberOfDaysErr="please enter a valid number of days"),(Number((D=m==null?void 0:m.current)==null?void 0:D.value)>8||Number((A=m==null?void 0:m.current)==null?void 0:A.value)<1)&&(f.numberOfHoursErr="please enter a valid number of hours"),u(f),console.log(t),JSON.stringify(f)==="{}"){const T={name:l.current.value,type:i.current.value,startDate:t,numberOfDays:(O=d==null?void 0:d.current)==null?void 0:O.value,numberOfHours:(k=m==null?void 0:m.current)==null?void 0:k.value,endDate:c};await fetch("https://shoush-api.vercel.app/request-vacation",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(T)}).then(()=>{setTimeout(()=>{x(!0)},0)})}},b=async()=>{const f=new Date(t),g=d.current.value;f.setDate(f.getDate()+Number(g));const o=new Date(f);let N=o.getMonth()+1,C=o.getDate();N<10&&(N="0"+N),C<10&&(C="0"+C);const D=`${o.getFullYear()}-${N}-${C}`;p(new Date(D))};return h.length===0?e.jsx("div",{className:"formContainer",children:e.jsx("h1",{style:{textAlign:"center",fontSize:"3rem"},children:"There are no employees to request vacation."})}):e.jsx("div",{className:"formContainer",style:{width:j?"100%":"50%"},children:j?e.jsx("p",{className:"message",children:"Vacation has been requested successfully"}):e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Name"}),e.jsx("select",{ref:l,children:h&&h.map(f=>e.jsx("option",{children:Object.values(f)[2]},f._id))})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Choose vacation type:"}),e.jsxs("select",{onChange:w,ref:i,children:[e.jsx("option",{children:"Annual"}),e.jsx("option",{children:"Sick"}),e.jsx("option",{children:"Day time leave"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Start Date"}),e.jsx(P,{selected:t,onChange:f=>s(f),showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:60,minDate:t})]}),a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Number of days"}),e.jsx("input",{type:"number",ref:d,onChange:b}),e.jsx("p",{className:"error",children:v.numberOfDaysErr})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"End date"}),e.jsx(P,{selected:c,onChange:f=>p(f),showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:60,maxDate:c})]})]}):e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Number of hours"}),e.jsx("input",{type:"number",ref:m}),e.jsx("p",{className:"error",children:v.numberOfHoursErr})]}),e.jsx("div",{className:"row",children:e.jsx("button",{type:"button",className:"btn",onClick:y,children:"Request"})})]})})}function ce(){const[a,r]=n.useState(""),l=n.useRef(),i=n.useRef(),t=n.useRef(),[s,c]=n.useState(),[p,d]=n.useState(!1),{employees:m}=n.useContext(E),v=()=>{const j=new W;Z(j,{html:"#table",theme:"grid",headStyles:{fontSize:"15",halign:"center",fillColor:"#136629"},bodyStyles:{cellWidth:45},didParseCell:function(x){x.row.index===4&&(x.cell.styles.fillColor="#136629",x.cell.styles.textColor="#fff"),x.row.index===5&&(x.row.cells[1].styles.fillColor="#aed1b7",x.row.cells[3].styles.fillColor="#aed1b7",x.cell.styles.halign="center"),x.row.index===16&&(x.row.cells[1].styles.fillColor="#136629",x.row.cells[1].styles.textColor="#fff")}}),j.save("table.pdf")},u=async()=>{if(t.current.value===""||t.current.value>new Date().getFullYear())r("please enter a valid year");else if(Number(i.current.value)>12||Number(i.current.value)<1)r("please enter a valid month");else{const j={name:l.current.value,month:i.current.value,year:t.current.value},h=await(await fetch("https://shoush-api.vercel.app/report",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(j)})).json();h?(c(h),d(!0)):r("Report data not found in our system")}};return e.jsxs(e.Fragment,{children:[p?e.jsxs("table",{border:"1",id:"table",className:"report",children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:"4",style:{textAlign:"center",fontSize:"2.4rem"},children:"Salary Statement of the Month"})})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"bold",rowSpan:"1",children:"Employee Name"}),e.jsxs("td",{children:[s==null?void 0:s.name," "]}),e.jsx("td",{className:"bold",children:"Joining Date"}),e.jsx("td",{children:s==null?void 0:s.joiningDate})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Emoployee Number"}),e.jsx("td",{children:s==null?void 0:s.id}),e.jsx("td",{className:"bold",children:"Designation"}),e.jsx("td",{children:s==null?void 0:s.designation})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Account Number"}),e.jsx("td",{children:s==null?void 0:s.accNumber}),e.jsx("td",{className:"bold",children:"Total Paid Leaves"}),e.jsx("td",{children:s==null?void 0:s.totalPaidLeaves})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Salary Month"}),e.jsx("td",{children:s==null?void 0:s.month}),e.jsx("td",{className:"bold",children:"Day Present"}),e.jsx("td",{children:s==null?void 0:s.dayPresent})]}),e.jsxs("tr",{children:[e.jsx("th",{colSpan:"2",style:{textAlign:"center"},children:"Earnings"}),e.jsx("th",{colSpan:"2",style:{textAlign:"center"},children:"Deductions"})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{className:"bold",style:{textAlign:"center"},children:"Amount"}),e.jsx("td",{}),e.jsx("td",{className:"bold",style:{textAlign:"center"},children:"Amount"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Basic Salary"}),e.jsx("td",{children:s==null?void 0:s.basicSalary}),e.jsx("td",{className:"bold",children:"SSC"}),e.jsx("td",{children:s==null?void 0:s.SSC})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Acommodation"}),e.jsx("td",{children:s==null?void 0:s.accomodation}),e.jsx("td",{className:"bold",children:"Income tax"}),e.jsx("td",{children:s==null?void 0:s.incomeTax})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Transportation"}),e.jsx("td",{children:s==null?void 0:s.transportation}),e.jsx("td",{className:"bold",children:"Medical Insurance"}),e.jsx("td",{children:s==null?void 0:s.medicalInsurance})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Phone"}),e.jsx("td",{children:s==null?void 0:s.phone}),e.jsx("td",{className:"bold",children:"Loan"}),e.jsx("td",{children:s==null?void 0:s.loan})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Meals"}),e.jsx("td",{children:s==null?void 0:s.meals}),e.jsx("td",{className:"bold",children:"Advance"}),e.jsx("td",{children:s==null?void 0:s.advance})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Fuel"}),e.jsx("td",{children:s==null?void 0:s.fuel}),e.jsx("td",{className:"bold",children:"Misc. Deductions"}),e.jsx("td",{children:s==null?void 0:s.miscDeductions})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Guaranteed Bonus"}),e.jsx("td",{children:s==null?void 0:s.bonus}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Perf Incentives"}),e.jsx("td",{children:s==null?void 0:s.incentives}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"bold",children:"Arrears"}),e.jsx("td",{children:s==null?void 0:s.arrears}),e.jsx("td",{}),e.jsx("td",{})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"bold",children:"Gross Earnings"}),e.jsx("td",{children:s==null?void 0:s.totalEarnings}),e.jsx("th",{className:"bold",children:"Gross Deductions"}),e.jsx("td",{children:s==null?void 0:s.totalDeductions})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("th",{className:"bold",children:"NET PAY"}),e.jsx("td",{className:"bold",children:s==null?void 0:s.netSalary}),e.jsx("td",{})]})]})]}):e.jsxs("div",{className:"formContainer",children:[e.jsx("div",{children:e.jsx("p",{className:"error",children:a})}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Name"}),e.jsx("select",{ref:l,children:m.map(j=>e.jsx("option",{children:Object.values(j)[3]},j._id))})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Month"}),e.jsx("input",{type:"text",ref:i,defaultValue:8})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Year"}),e.jsx("input",{type:"text",ref:t,defaultValue:2023})]}),e.jsx("div",{className:"row",children:e.jsx("button",{type:"button",onClick:u,children:"GO"})})]})]}),p?e.jsx("div",{className:"downloadBtn",style:{textAlign:"center"},children:e.jsx("button",{onClick:v,style:{width:"35%"},children:"Download"})}):null]})}function de(){const[a,r]=n.useState([]),[l,i]=n.useState({}),t=n.useRef(),s=n.useRef(),c=n.useRef(),[p,d]=n.useState(!1),m=async v=>{var h,w;let u={},j=t.current.value.split(" "),x=0;for(let y=0;y<j.length;y++)j[y]!==""&&x++;if(x<3&&(u.fullNameErr="please provide your full name"),c.current.value===""&&(u.yearsOfExperienceErr="please enter a valid number of years"),a.length===0&&(u.filesErr="please upload resume and/or resume image"),i(u),JSON.stringify(u)==="{}"){const y={fullName:t.current.value,designation:s.current.value,yearsOfExperience:c.current.value,submitDate:new Date},b=new FormData,f=`${Date.now()}${(h=a[0])==null?void 0:h.name}`,g=`${Date.now()}${(w=a[1])==null?void 0:w.name}`;for(let o=0;o<a.length;o++)b.append("files",a[o]);y.resume=f,y.resumeImage=g,await fetch("https://shoush-api.vercel.app/upload",{method:"POST",body:b}),await fetch("https://shoush-api.vercel.app/apply-career",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(y)}).then(()=>{setTimeout(()=>{d(!0)},0)})}};return e.jsx("div",{className:"formContainer",style:{width:p?"100%":"50%"},children:p?e.jsx("p",{className:"message",children:"Thanks for applying, we will contact you as soon as possible"}):e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Full name"}),e.jsx("input",{type:"text",ref:t})]}),e.jsx("p",{className:"error",children:l.fullNameErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Designation"}),e.jsxs("select",{ref:s,children:[e.jsx("option",{children:"Project Manager"}),e.jsx("option",{children:"Analyst"}),e.jsx("option",{children:"Full-stack developer"}),e.jsx("option",{children:"Back-end developer"}),e.jsx("option",{children:"Front-end developer"}),e.jsx("option",{children:"UX designer/Graphic designer"}),e.jsx("option",{children:"The (quality) tester"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Years of experience"}),e.jsx("input",{type:"number",ref:c})]}),e.jsx("p",{className:"error",children:l.yearsOfExperienceErr}),e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:"resumeFile",className:"downloadImg",children:[e.jsx(M,{className:"postIcon"}),e.jsx("span",{children:"Upload resume"})]}),e.jsx("input",{type:"file",accept:".png,.jpeg,.jpg",id:"resumeFile",name:"file",className:"upload",onChange:v=>r([...a,v.target.files[0]])})]}),e.jsxs("div",{className:"row",children:[e.jsxs("label",{htmlFor:"resumeImage",className:"downloadImg",children:[e.jsx(M,{className:"postIcon"}),e.jsx("span",{children:"Upload resume image"})]}),e.jsx("input",{type:"file",accept:"application/pdf,application/msword",id:"resumeImage",className:"upload",onChange:v=>r([...a,v.target.files[0]]),name:"image"})]}),e.jsx("p",{className:"error",children:l.filesErr}),e.jsx("div",{className:"row",children:e.jsx("button",{type:"button",className:"btn",onClick:m,children:"Request"})})]})})}const he="/shoush-client/assets/company-BaDDz2Ub.jpg";function ue(){return e.jsxs("div",{className:"contact",children:[e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"email",children:"Email: shoush2022@hotmail.com"}),e.jsx("div",{className:"tel",children:"Tel: + 96279-7393-644"}),e.jsx("div",{className:"fax",children:"Fax: + 96278-0620-315"})]}),e.jsx("div",{className:"company",children:e.jsx("img",{src:he,alt:"company",className:"companyImg"})})]})}function pe({content:a,table:r,setEdit:l,state:i,updateState:t}){const[s,c]=n.useState(a),[p,d]=n.useState(),{dispatch:m,getEmployees:v}=n.useContext(E),[u,j]=n.useState(a.Manager);n.useEffect(()=>{d(JSON.stringify(a)===JSON.stringify(s))},[s,a]);const x=async h=>{m({type:"DARKEN",payload:!1}),r==="Employee"?await fetch("https://shoush-api.vercel.app/edit-employee",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}).then(w=>{l(!1),v()}):await fetch("https://shoush-api.vercel.app/edit-salary",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(s)}).then(()=>{t(!i),l(!1)})};return e.jsx("div",{className:"window",children:e.jsxs("form",{className:"form",children:[e.jsx("div",{className:"cancelForm",onClick:()=>{l(!1),m({type:"DARKEN",payload:!1})},children:"X"}),Object.entries(s).map(([h,w])=>e.jsxs("div",{className:h==="Manager"?"isManager":"row",style:{display:h==="Total Earnings"||h==="Total Deductions"||h==="Net Salary"?"none":"flex"},children:[e.jsx("p",{children:h},h),h==="Manager"?e.jsx("input",{type:"checkbox",checked:u,onChange:y=>{j(!u),c({...s,Manager:y.target.checked})}}):e.jsx("input",{value:w,onChange:y=>{c({...s,[h]:y.target.value})},disabled:h==="_id"||h==="Account Number"||h==="employeeId"||h==="SSC"||h==="Hire Date"||h==="Birth Date"||h==="createdAt"||h==="updatedAt"})]},h)),e.jsxs("div",{className:"row",children:[e.jsx("button",{type:"button",className:"btn",disabled:p,onClick:x,style:{opacity:p?"0.6":"1"},children:"CONFIRM"}),e.jsx("button",{className:"btn",onClick:()=>{l(!1),m({type:"DARKEN",payload:!1})},children:"CANCEL"})]})]})})}function me({id:a,data:r,setDelete:l,state:i,updateState:t}){const{dispatch:s,getEmployees:c}=n.useContext(E),p=async d=>{s({type:"DARKEN",payload:!1}),r==="Salary"?await fetch(`https://shoush-api.vercel.app/delete-salary/${d}`,{method:"POST",headers:{"Content-type":"application/json"}}).then(()=>{t(!i),l(!1)}):await fetch(`https://shoush-api.vercel.app/delete-employee/${d}`,{method:"POST",headers:{"Content-type":"application/json"}}).then(()=>{l(!1),c()})};return e.jsxs("div",{className:"delete",children:[e.jsxs("h4",{children:["Are you sure you want to delete this ",r," ?"]}),e.jsxs("div",{className:"deleteOptions",children:[e.jsx("button",{type:"button",className:"btn",onClick:()=>p(a),children:"Delete"}),e.jsx("button",{type:"button",className:"btn",onClick:()=>{l(!1),s({type:"DARKEN",payload:!1})},children:"Cancel"})]})]})}function xe({setAddEmployee:a}){const r=n.useRef(),l=n.useRef(),i=n.useRef(),t=n.useRef(),s=n.useRef(),c=n.useRef(),p=n.useRef(),d=n.useRef(),m=n.useRef(),v=n.useRef(),[u,j]=n.useState({}),[x,h]=n.useState(new Date),[w,y]=n.useState(new Date),{dispatch:b,getEmployees:f}=n.useContext(E),g=o=>{let N={};const C=/^([\u0600-\u06ff]|[\u0750-\u077f]|[\ufb50-\ufbc1]|[\ufbd3-\ufd3f]|[\ufd50-\ufd8f]|[\ufd92-\ufdc7]|[\ufe70-\ufefc]|[\ufdf0-\ufdfd]|[ ])*$/g,D=/^[a-zA-Z]|[ ]+$/;C.test(r.current.value)||(N.nameArErr="Arabic name must be in arabic"),D.test(l.current.value)||(N.nameEnErr="English name must be in english");let A=l.current.value.split(" "),O=0;for(let R=0;R<A.length;R++)A[R]!==""&&O++;O<3&&(N.nameEnErr="please provide your full name");let k=r.current.value.split(" "),T=0;for(let R=0;R<k.length;R++)k[R]!==""&&T++;if(T<3&&(N.nameArErr="please provide your full name"),i.current.value===""&&(N.accountNumberErr="account number can't be empty"),(Number(t.current.value)>60||Number(t.current.value)<18||t.current.value==="")&&(N.ageErr="please enter a valid age"),s.current.value.length!==10&&(N.phoneNumberErr="please enter a valid phone number"),j(N),JSON.stringify(N)==="{}"){const R={nameAR:r.current.value,nameEN:l.current.value,accountNumber:i.current.value,age:t.current.value,phoneNumber:s.current.value,city:c.current.value,gender:p.current.value,maritalStatus:d.current.value,designation:m.current.value,isManager:v.current.checked,hireDate:w,birthDate:x};b({type:"DARKEN",payload:!1}),fetch("https://shoush-api.vercel.app/add-employee",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(R)}).then(()=>{a(!1),f()})}};return e.jsx("div",{className:"window",children:e.jsxs("form",{className:"form",children:[e.jsx("div",{className:"cancelForm",onClick:()=>{a(!1),b({type:"DARKEN",payload:!1})},children:"X"}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Arabic name"}),e.jsx("input",{type:"text",ref:r})]}),e.jsx("p",{className:"error",children:u.nameArErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"English name"}),e.jsx("input",{type:"text",ref:l})]}),e.jsx("p",{className:"error",children:u.nameEnErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Account number"}),e.jsx("input",{type:"text",ref:i})]}),e.jsx("p",{className:"error",children:u.accountNumberErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" "}),e.jsxs("select",{ref:p,children:[e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"number",ref:t})]}),e.jsx("p",{className:"error",children:u.ageErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Marital Status"}),e.jsxs("select",{ref:d,children:[e.jsx("option",{children:"single"}),e.jsx("option",{children:"married"}),e.jsx("option",{children:"widowed"}),e.jsx("option",{children:"divorced"}),e.jsx("option",{children:"separated"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Designation"}),e.jsxs("select",{ref:m,children:[e.jsx("option",{children:"Project Manager"}),e.jsx("option",{children:"Analyst"}),e.jsx("option",{children:"Full-stack developer"}),e.jsx("option",{children:"Back-end developer"}),e.jsx("option",{children:"Front-end developer"}),e.jsx("option",{children:"UX designer/Graphic designer"}),e.jsx("option",{children:"The (quality) tester"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Phone number"}),e.jsx("input",{type:"tel",ref:s})]}),e.jsx("p",{className:"error",children:u.phoneNumberErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"City"}),e.jsxs("select",{ref:c,children:[e.jsx("option",{children:"Amman"}),e.jsx("option",{children:"Zarqa"}),e.jsx("option",{children:"Irbid"}),e.jsx("option",{children:"Aqaba"}),e.jsx("option",{children:"Mafraq"}),e.jsx("option",{children:"Madaba"}),e.jsx("option",{children:"Salt"}),e.jsx("option",{children:"Ajloun"}),e.jsx("option",{children:"Karak"}),e.jsx("option",{children:"Ma'an"}),e.jsx("option",{children:"Jerash"}),e.jsx("option",{children:"Tafilah"})]})]}),e.jsxs("div",{className:"isManager",children:["Manager ",e.jsx("input",{type:"checkbox",ref:v})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Hire date"}),e.jsx(P,{selected:w,onChange:o=>y(o),showYearDropdown:!0,scrollableMonthYearDropdown:!0,yearDropdownItemNumber:60,maxDate:w})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Birth Date"}),e.jsx(P,{selected:x,onChange:o=>h(o),showYearDropdown:!0,scrollableMonthYearDropdown:!0,yearDropdownItemNumber:60,maxDate:x})]}),e.jsxs("div",{className:"row",children:[e.jsx("button",{type:"button",onClick:g,className:"btn",children:"Add"}),e.jsx("button",{type:"button",className:"btn",onClick:()=>{a(!1),b({type:"DARKEN",payload:!1})},children:"Cancel"})]})]})})}function je({setAddSalary:a,state:r,updateState:l}){const[i,t]=n.useState([]),s=n.useRef(),c=n.useRef(),p=n.useRef(),d=n.useRef(),m=n.useRef(),v=n.useRef(),u=n.useRef(),j=n.useRef(),x=n.useRef(),h=n.useRef(),[w,y]=n.useState({}),{dispatch:b}=n.useContext(E);n.useEffect(()=>{(async()=>{const N=await(await fetch("https://shoush-api.vercel.app/get-employees")).json();t(N)})()},[]);const f=async()=>{let g={};if((Number(c.current.value)>12||Number(c.current.value)<1)&&(g.monthErr="please enter a valid month"),p.current.value===""&&(g.yearErr="please enter a valid year"),d.current.value===""&&(g.basicSalaryErr="please enter a valid salary"),y(g),JSON.stringify(g)==="{}"){b({type:"DARKEN",payload:!1});const o={name:s.current.value,month:c.current.value,year:p.current.value,basicSalary:Number(d.current.value),accomodation:Number(m.current.value),transportation:Number(v.current.value),bonus:Number(u.current.value),incomeTax:Number(j.current.value),medicalInsurance:Number(x.current.value),loan:Number(h.current.value)};await fetch("https://shoush-api.vercel.app/add-salary",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).then(()=>{l(!r),a(!1)})}};return e.jsx("div",{className:"window",children:e.jsxs("form",{className:"form",children:[e.jsx("div",{className:"cancelForm",onClick:()=>{a(!1),b({type:"DARKEN",payload:!1})},children:"X"}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Name"}),e.jsx("select",{ref:s,children:i.map(g=>e.jsx("option",{children:Object.values(g)[2]},g._id))})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Month"}),e.jsx("input",{type:"text",ref:c})]}),e.jsx("p",{className:"error",children:w.monthErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:" Year"}),e.jsx("input",{type:"text",ref:p})]}),e.jsx("p",{className:"error",children:w.yearErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Basic salary"}),e.jsx("input",{type:"number",ref:d})]}),e.jsx("p",{className:"error",children:w.basicSalaryErr}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Accomodation"}),e.jsx("input",{type:"number",ref:m})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Transportation"}),e.jsx("input",{type:"number",ref:v})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Bonus"}),e.jsx("input",{type:"number",ref:u})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Income tax"}),e.jsx("input",{type:"number",ref:j})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Medical insurance"}),e.jsx("input",{type:"number",ref:x})]}),e.jsxs("div",{className:"row",children:[e.jsx("label",{children:"Loan"}),e.jsx("input",{type:"number",ref:h})]}),e.jsxs("div",{className:"row",children:[e.jsx("button",{type:"button",className:"btn",onClick:f,children:"Request"}),e.jsx("button",{type:"button",className:"btn",onClick:()=>{a(!1),b({type:"DARKEN",payload:!1})},children:"Cancel"})]})]})})}function L({table:a}){const[r,l]=n.useState([{}]),[i,t]=n.useState(""),[s,c]=n.useState(""),[p,d]=n.useState(!1),[m,v]=n.useState(!1),[u,j]=n.useState(!1),[x,h]=n.useState(""),{dispatch:w,employees:y}=n.useContext(E);n.useEffect(()=>{(async()=>{if(a==="Employee")l(y);else if(a==="Salary"){const C=await(await fetch("https://shoush-api.vercel.app/get-salaries")).json();l(C)}else if(a==="Vacation"){const C=await(await fetch("https://shoush-api.vercel.app/get-vacations")).json();l(C)}})()},[u,a,y]);const b=r==null?void 0:r.filter(o=>Object.values(o).join(" ").includes(i)),f=o=>{t(o.target.value.toLowerCase())},g=(o,N)=>{o.target.value==="approve"?fetch(`https://shoush-api.vercel.app/approve-vacation/${N}`,{method:"POST"}).then(()=>{j(!u)}):fetch(`https://shoush-api.vercel.app/reject-vacation/${N}`,{method:"POST"}).then(()=>{j(!u)})};return e.jsxs("div",{className:"container",children:[(r==null?void 0:r.length)===0?e.jsx("h1",{style:{textAlign:"center",fontSize:"3rem"},children:`Oops... ${a} table is Empty!`}):e.jsx("div",{className:"tableSearch",children:e.jsx("input",{type:"search",placeholder:"Search employees..",className:"searchInput",onChange:f,autoFocus:!0})}),e.jsx("div",{className:"tableContainer",style:{display:(r==null?void 0:r.length)===0?"none":"block"},children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[(b==null?void 0:b.length)>0&&Object.keys(b[0]).map(o=>e.jsx("th",{style:{display:o==="_id"?"none":"table-cell"},children:o},o)),e.jsx("th",{colSpan:"2",style:{backgroundColor:"#fff"}})]})}),e.jsx("tbody",{children:(b==null?void 0:b.length)>0&&(b==null?void 0:b.map((o,N)=>e.jsxs("tr",{children:[Object.values(o).map((C,D)=>e.jsx("td",{style:{display:D===0?"none":"table-cell"},children:String(C)},D)),a==="Vacation"?e.jsx("td",{children:e.jsx("button",{disabled:o.Status==="approved",className:"btn",value:"approve",style:{backgroundColor:o.Status==="approved"?"lightgrey":"#136629"},onClick:C=>g(C,o._id),children:"APPROVE"})}):e.jsx("td",{children:e.jsx("button",{className:"btn",onClick:()=>{c(o),w({type:"DARKEN",payload:!0})},children:"EDIT"})}),a==="Vacation"?e.jsx("td",{children:e.jsx("button",{className:"deleteBtn",disabled:o.Status==="rejected",value:"reject",style:{backgroundColor:o.Status==="rejected"?"lightgrey":"red"},onClick:C=>g(C,o._id),children:"REJECT"})}):e.jsx("td",{children:e.jsx("button",{className:"deleteBtn",onClick:()=>{v(!0),h(o._id),w({type:"DARKEN",payload:!0})},children:"DELETE"})})]},N)))})]})}),s?e.jsx(pe,{content:s,table:a,setEdit:c,state:u,updateState:j}):null,p&&a==="Employee"?e.jsx(xe,{setAddEmployee:d}):null,p&&a==="Salary"?e.jsx(je,{setAddSalary:d,state:u,updateState:j}):null,m?e.jsx(me,{id:x,data:a,setDelete:v,state:u,updateState:j}):null,e.jsx("div",{className:"addBtnContainer",children:!p&&a!=="Vacation"?e.jsxs("button",{className:"btn",onClick:()=>{d(!p),w({type:"DARKEN",payload:!0})},children:["Add ",a]}):null})]})}function fe(){const{component:a}=X();if(a==="employees")return e.jsx("div",{className:"componentContainer",children:e.jsx(L,{table:"Employee"})});if(a==="projects")return e.jsx("div",{className:"componentContainer",children:e.jsx(ie,{})});if(a==="request-vacation")return e.jsx("div",{className:"componentContainer",children:e.jsx(oe,{})});if(a==="vacations")return e.jsx("div",{className:"componentContainer",children:e.jsx(L,{table:"Vacation"})});if(a==="salaries")return e.jsx("div",{className:"componentContainer",children:e.jsx(L,{table:"Salary"})});if(a==="reports")return e.jsx("div",{className:"componentContainer",children:e.jsx(ce,{})});if(a==="careers")return e.jsx("div",{className:"componentContainer",children:e.jsx(de,{})});if(a==="contact")return e.jsx("div",{className:"componentContainer",children:e.jsx(ue,{})})}function Ne(){return e.jsx("div",{className:"not-found",children:"404 not found"})}const be=$([{element:e.jsx(ne,{}),children:[{path:"/",element:e.jsx(te,{})},{path:"/signup",element:e.jsx(re,{})},{path:"/login",element:e.jsx(le,{})},{path:"/:component",element:e.jsx(fe,{})},{path:"*",element:e.jsx(Ne,{})}]}],{basename:"/shoush-client/"});U.createRoot(document.getElementById("root")).render(e.jsx(J.StrictMode,{children:e.jsx(B,{router:be})}));
