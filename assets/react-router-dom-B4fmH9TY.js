import{r as i,R as z}from"./react-BHfQynsH.js";import{a as B}from"./react-dom-D7AI4CH_.js";import{m as H,D as M,a as A,R as K,u as W,N as G,b as X,c as Y,d as q,e as J}from"./react-router-DGtqSh3c.js";import{c as Q,b as Z,E as $,s as ee,d as U}from"./@remix-run-CA71pd9M.js";/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},C.apply(this,arguments)}function te(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function ne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function re(e,n){return e.button===0&&(!n||n==="_self")&&!ne(e)}const ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ae="6";try{window.__reactRouterVersion=ae}catch{}function Te(e,n){return Q({basename:n==null?void 0:n.basename,future:C({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:Z({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||se(),routes:e,mapRouteProperties:H,unstable_dataStrategy:n==null?void 0:n.unstable_dataStrategy,window:n==null?void 0:n.window}).initialize()}function se(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=C({},n,{errors:oe(n.errors)})),n}function oe(e){if(!e)return null;let n=Object.entries(e),t={};for(let[a,r]of n)if(r&&r.__type==="RouteErrorResponse")t[a]=new $(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let u=new s(r.message);u.stack="",t[a]=u}catch{}}if(t[a]==null){let s=new Error(r.message);s.stack="",t[a]=s}}else t[a]=r;return t}const le=i.createContext({isTransitioning:!1}),ue=i.createContext(new Map),ce="startTransition",O=z[ce],fe="flushSync",D=B[fe];function de(e){O?O(e):e()}function x(e){D?D(e):e()}class ve{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",n(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}}function Ee(e){let{fallbackElement:n,router:t,future:a}=e,[r,s]=i.useState(t.state),[u,h]=i.useState(),[f,o]=i.useState({isTransitioning:!1}),[c,p]=i.useState(),[d,T]=i.useState(),[m,L]=i.useState(),E=i.useRef(new Map),{v7_startTransition:P}=a||{},b=i.useCallback(l=>{P?de(l):l()},[P]),v=i.useCallback((l,S)=>{let{deletedFetchers:w,unstable_flushSync:k,unstable_viewTransitionOpts:R}=S;w.forEach(g=>E.current.delete(g)),l.fetchers.forEach((g,N)=>{g.data!==void 0&&E.current.set(N,g.data)});let j=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!R||j){k?x(()=>s(l)):b(()=>s(l));return}if(k){x(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let g=t.window.document.startViewTransition(()=>{x(()=>s(l))});g.finished.finally(()=>{x(()=>{p(void 0),T(void 0),h(void 0),o({isTransitioning:!1})})}),x(()=>T(g));return}d?(c&&c.resolve(),d.skipTransition(),L({state:l,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(h(l),o({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[t.window,d,c,E,b]);i.useLayoutEffect(()=>t.subscribe(v),[t,v]),i.useEffect(()=>{f.isTransitioning&&!f.flushSync&&p(new ve)},[f]),i.useEffect(()=>{if(c&&u&&t.window){let l=u,S=c.promise,w=t.window.document.startViewTransition(async()=>{b(()=>s(l)),await S});w.finished.finally(()=>{p(void 0),T(void 0),h(void 0),o({isTransitioning:!1})}),T(w)}},[b,u,c,t.window]),i.useEffect(()=>{c&&u&&r.location.key===u.location.key&&c.resolve()},[c,d,r.location,u]),i.useEffect(()=>{!f.isTransitioning&&m&&(h(m.state),o({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),L(void 0))},[f.isTransitioning,m]),i.useEffect(()=>{},[]);let y=i.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:l=>t.navigate(l),push:(l,S,w)=>t.navigate(l,{state:S,preventScrollReset:w==null?void 0:w.preventScrollReset}),replace:(l,S,w)=>t.navigate(l,{replace:!0,state:S,preventScrollReset:w==null?void 0:w.preventScrollReset})}),[t]),_=t.basename||"/",V=i.useMemo(()=>({router:t,navigator:y,static:!1,basename:_}),[t,y,_]);return i.createElement(i.Fragment,null,i.createElement(M.Provider,{value:V},i.createElement(A.Provider,{value:r},i.createElement(ue.Provider,{value:E.current},i.createElement(le.Provider,{value:f},i.createElement(K,{basename:_,location:r.location,navigationType:r.historyAction,navigator:y,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?i.createElement(we,{routes:t.routes,future:t.future,state:r}):n))))),null)}function we(e){let{routes:n,future:t,state:a}=e;return W(n,void 0,a,t)}const he=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=i.forwardRef(function(n,t){let{onClick:a,relative:r,reloadDocument:s,replace:u,state:h,target:f,to:o,preventScrollReset:c,unstable_viewTransition:p}=n,d=te(n,ie),{basename:T}=i.useContext(G),m,L=!1;if(typeof o=="string"&&pe.test(o)&&(m=o,he))try{let v=new URL(window.location.href),y=o.startsWith("//")?new URL(v.protocol+o):new URL(o),_=ee(y.pathname,T);y.origin===v.origin&&_!=null?o=_+y.search+y.hash:L=!0}catch{}let E=X(o,{relative:r}),P=me(o,{replace:u,state:h,target:f,preventScrollReset:c,relative:r,unstable_viewTransition:p});function b(v){a&&a(v),v.defaultPrevented||P(v)}return i.createElement("a",C({},d,{href:m||E,onClick:L||s?a:b,ref:t,target:f}))});var F;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(F||(F={}));var I;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(I||(I={}));function me(e,n){let{target:t,replace:a,state:r,preventScrollReset:s,relative:u,unstable_viewTransition:h}=n===void 0?{}:n,f=Y(),o=q(),c=J(e,{relative:u});return i.useCallback(p=>{if(re(p,t)){p.preventDefault();let d=a!==void 0?a:U(o)===U(c);f(e,{replace:d,state:r,preventScrollReset:s,relative:u,unstable_viewTransition:h})}},[o,f,c,a,r,t,e,s,u,h])}export{be as L,Ee as R,Te as c};
